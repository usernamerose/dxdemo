webpackJsonp([2],{"1alW":function(e,t,a){var l=a("kM2E");l(l.S,"Number",{isInteger:a("AKgy")})},"9bBU":function(e,t,a){a("mClu");var l=a("FeBl").Object;e.exports=function(e,t,a){return l.defineProperty(e,t,a)}},AKgy:function(e,t,a){var l=a("EqjI"),i=Math.floor;e.exports=function(e){return!l(e)&&isFinite(e)&&i(e)===e}},C4MV:function(e,t,a){e.exports={default:a("9bBU"),__esModule:!0}},Pp1p:function(e,t){},"RRo+":function(e,t,a){e.exports={default:a("c45H"),__esModule:!0}},bOdI:function(e,t,a){"use strict";t.__esModule=!0;var l,i=a("C4MV"),s=(l=i)&&l.__esModule?l:{default:l};t.default=function(e,t,a){return t in e?(0,s.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},c45H:function(e,t,a){a("1alW"),e.exports=a("FeBl").Number.isInteger},lGSh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("RRo+"),i=a.n(l),s=a("bOdI"),r=a.n(s),n=(a("IcnI"),{components:{LoginHeader:a("cIVk").a},data:function(){var e;return e={formLabelWidth2:"120px",formLabelWidth:"80px",formUserFeedBack:{desc:""},vipList:[],options:[{value:"2018",label:"2018年"},{value:"2019",label:"2019年"},{value:"2020",label:"2020年"}],value:"2020",userSalary:null,dialogVisible:!1,dialogVisibleFeedBack:!1,imageUrl:"",imageUrlAvator:null,imageUrlIdCard:null,imageUrlBankCard:null,userMsg:{name:"",telnum:"",address:"",otherMsg:"",startWorkTime:"",endWorkTime:""}},r()(e,"userSalary",null),r()(e,"telnum",null),r()(e,"wageData",null),e},mounted:function(){this.findByTelnum()},methods:{getSalaryData:function(){var e=this,t=e.value,a=e.telnum;e.$api.get("http://119.3.63.239:8080/wage/findByUserIdAndYear/"+t+"/"+a,null,function(t){e.userSalary=t.data})},dialogVisibles:function(){this.updateUserBasic(),this.dialogVisible=!1},dialogVisibleFeedBackFun:function(e){this.wageData=e,this.dialogVisibleFeedBack=!0},dialogFeedBack:function(e){this.postFeedBack(e),this.dialogVisibleFeedBack=!1},findByTelnum:function(){var e=this;e.$api.get("http://119.3.63.239:8080/user/findByTelnum/"+this.$route.query.telnum,null,function(t){e.userMsg=t.data.msg,e.telnum=t.data.msg.telnum,e.imageUrlAvator=t.data.msg.photoBase64,e.imageUrlIdCard=t.data.msg.idCardBase64,e.imageUrlBankCard=t.data.msg.bankCardBase64,e.getSalaryData()})},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},updateUserBasic:function(){var e=this,t=e.userMsg;t.name=e.userMsg.name,t.telnum=e.userMsg.telnum,t.address=e.userMsg.address,t.otherMsg=e.userMsg.otherMsg,i()(t.endWorkTime)||(t.endWorkTime=new Date(t.endWorkTime).getTime()),i()(t.startWorkTime)||(t.startWorkTime=new Date(t.startWorkTime).getTime()),e.$api.post("http://119.3.63.239:8080/user/updateUser",t,function(t){e.findByTelnum()})},postFeedBack:function(e){var t=this.wageData;t.feedBackInfo=e;var a=this;a.$api.post("http://119.3.63.239:8080/wage/update",t,function(e){a.findByTelnum()})},uploadFiles:function(e){var t=this,a=null;"avator"===e?a=this.$refs.upload.$refs["upload-inner"].$refs.input:"IdCard"===e?a=this.$refs.upload2.$refs["upload-inner"].$refs.input:"bankCard"===e&&(a=this.$refs.upload3.$refs["upload-inner"].$refs.input);var l,i=a.files,s=new FileReader;s.readAsDataURL(i[0]),s.onload=function(a){l=a.target.result;var i=t.userMsg;"avator"===e?i.photoBase64=l:"IdCard"===e?i.idCardBase64=l:"bankCard"===e&&(i.bankCardBase64=l),t.$api.post("http://119.3.63.239:8080/user/updateUser",i,function(e){t.findByTelnum()})}},cancel:function(){this.findByTelnum(),this.dialogVisible=!1},onSelectedDate:function(e){this.getSalaryData()}}}),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-center"},[a("login-header"),e._v(" "),a("div",[a("div",{staticStyle:{"font-size":"16px","font-weight":"bold",color:"#303133","text-align":"left",padding:"20px 0"}},[e._v("用户基本信息")]),e._v(" "),a("div",{staticClass:"card",staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{width:"30%",background:"#fff","padding-left":"10px","padding-top":"10px"}},[a("el-form",{staticStyle:{position:"relative"},attrs:{"label-width":"80px"}},[a("el-form-item",{staticStyle:{"margin-bottom":"1px"},attrs:{"label-width":e.formLabelWidth2,label:"姓名"}},[[a("div",{staticStyle:{"padding-left":"10px","text-align":"left",color:"#60626","font-family":"'Avenir', Helvetica, Arial, sans-serif"}},[e._v(e._s(e.userMsg.name))])]],2),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"1px"},attrs:{"label-width":e.formLabelWidth2,label:"手机号"}},[a("div",{staticStyle:{"padding-left":"10px","text-align":"left",color:"#60626","font-family":"'Avenir', Helvetica, Arial, sans-serif"}},[e._v(e._s(e.userMsg.telnum))])]),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"1px"},attrs:{"label-width":e.formLabelWidth2,label:"家庭住址"}},[a("div",{staticStyle:{"padding-left":"10px","text-align":"left",color:"#60626","font-family":"'Avenir', Helvetica, Arial, sans-serif"}},[e._v(e._s(e.userMsg.address))])]),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"1px"},attrs:{"label-width":e.formLabelWidth2,label:"其他"}},[a("div",{staticStyle:{"padding-left":"10px","text-align":"left",color:"#60626","font-family":"'Avenir', Helvetica, Arial, sans-serif"}},[e._v(e._s(e.userMsg.otherMsg))])]),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"1px"},attrs:{"label-width":e.formLabelWidth2,label:"正式工作时间"}},[a("div",{staticStyle:{"padding-left":"10px","text-align":"left",color:"#60626","font-family":"'Avenir', Helvetica, Arial, sans-serif"}},[e._v(e._s(e._f("dateformat")(e.userMsg.startWorkTime,"YYYY-MM-DD")))])]),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"1px"},attrs:{"label-width":e.formLabelWidth2,label:"工作结束时间"}},[a("div",{staticStyle:{"padding-left":"10px","text-align":"left",color:"#60626","font-family":"'Avenir', Helvetica, Arial, sans-serif"}},[e._v(e._s(e._f("dateformat")(e.userMsg.endWorkTime,"YYYY-MM-DD")))])]),e._v(" "),a("el-button",{staticStyle:{position:"absolute",bottom:"-4px",right:"20px"},attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("编辑")])],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.userMsg}},[a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth2}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.userMsg.name,callback:function(t){e.$set(e.userMsg,"name",t)},expression:"userMsg.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth2}},[a("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:e.userMsg.telnum,callback:function(t){e.$set(e.userMsg,"telnum",t)},expression:"userMsg.telnum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"家庭住址","label-width":e.formLabelWidth2}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.userMsg.address,callback:function(t){e.$set(e.userMsg,"address",t)},expression:"userMsg.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他信息","label-width":e.formLabelWidth2}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.userMsg.otherMsg,callback:function(t){e.$set(e.userMsg,"otherMsg",t)},expression:"userMsg.otherMsg"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"正式工作时间","label-width":e.formLabelWidth2}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.userMsg.startWorkTime,callback:function(t){e.$set(e.userMsg,"startWorkTime",t)},expression:"userMsg.startWorkTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工作结束时间","label-width":e.formLabelWidth2}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.userMsg.endWorkTime,callback:function(t){e.$set(e.userMsg,"endWorkTime",t)},expression:"userMsg.endWorkTime"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dialogVisibles()}}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{width:"21%",background:"#fff"}},[a("div",{staticStyle:{"padding-top":"46px"}},[null===e.imageUrlAvator?a("i",{staticClass:"el-icon-upload",staticStyle:{"font-size":"62px",color:"#c0c4cc"}}):e._e(),e._v(" "),null===e.imageUrlAvator?a("div",{staticStyle:{"font-size":"12px",color:"#606266",padding:"5px 0 10px"}},[e._v("暂无个人头像")]):e._e(),e._v(" "),null!==e.imageUrlAvator?a("img",{staticStyle:{width:"220",height:"130px"},attrs:{src:e.imageUrlAvator}}):e._e(),e._v(" "),a("el-upload",{ref:"upload",attrs:{"auto-upload":!1,multiple:!1,limit:1,"on-success":e.handleAvatarSuccess,"http-request":e.uploadFiles,accept:"image/jpeg, image/gif, image/png",action:""}},[a("el-button",{attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[e._v("选取图片")]),e._v(" "),a("span",[e._v(" ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.uploadFiles("avator")}}},[e._v("点击上传")])],1)],1)]),e._v(" "),a("div",{staticStyle:{width:"21%",background:"#fff"}},[a("div",{staticStyle:{"padding-top":"46px"}},[null===e.imageUrlIdCard?a("i",{staticClass:"el-icon-upload",staticStyle:{"font-size":"62px",color:"#c0c4cc"}}):e._e(),e._v(" "),null===e.imageUrlIdCard?a("div",{staticStyle:{"font-size":"12px",color:"#606266",padding:"5px 0 10px"}},[e._v("暂无身份证照片")]):e._e(),e._v(" "),null!==e.imageUrlIdCard?a("img",{staticStyle:{width:"220",height:"130px"},attrs:{src:e.imageUrlIdCard}}):e._e(),e._v(" "),a("el-upload",{ref:"upload2",attrs:{"auto-upload":!1,multiple:!1,limit:1,"on-success":e.handleAvatarSuccess,"http-request":e.uploadFiles,accept:"image/jpeg, image/gif, image/png",action:""}},[a("el-button",{attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[e._v("选取图片")]),e._v(" "),a("span",[e._v(" ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.uploadFiles("IdCard")}}},[e._v("点击上传")])],1)],1)]),e._v(" "),a("div",{staticStyle:{width:"21%",background:"#fff"}},[a("div",{staticStyle:{"padding-top":"46px"}},[null===e.imageUrlBankCard?a("i",{staticClass:"el-icon-upload",staticStyle:{"font-size":"62px",color:"#c0c4cc"}}):e._e(),e._v(" "),null===e.imageUrlBankCard?a("div",{staticStyle:{"font-size":"12px",color:"#606266",padding:"5px 0 10px"}},[e._v("暂无银行卡照片")]):e._e(),e._v(" "),null!==e.imageUrlBankCard?a("img",{staticStyle:{width:"220",height:"130px"},attrs:{src:e.imageUrlBankCard}}):e._e(),e._v(" "),a("el-upload",{ref:"upload3",attrs:{"auto-upload":!1,multiple:!1,limit:1,"on-success":e.handleAvatarSuccess,"http-request":e.uploadFiles,accept:"image/jpeg, image/gif, image/png",action:""}},[a("el-button",{attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[e._v("选取图片")]),e._v(" "),a("span",[e._v(" ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.uploadFiles("bankCard")}}},[e._v("点击上传")])],1)],1)])])]),e._v(" "),a("div",[a("div",{staticStyle:{"font-size":"16px","font-weight":"bold",color:"#303133","text-align":"left",padding:"20px 0"}},[e._v("工资详情")]),e._v(" "),a("div",{staticStyle:{"text-align":"left",padding:"0 20px 20px"}},[a("span",[e._v("选择年份")]),e._v(" "),a("span",[a("el-select",{attrs:{placeholder:"请选择年份"},on:{change:function(t){return e.onSelectedDate(e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),a("div",{staticStyle:{padding:"20px",background:"#fff"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userSalary}},[a("el-table-column",{attrs:{label:"日期",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.month)+"月")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"基本工资",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.baseWage))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"绩效、奖金",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.otherWage))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"社保、上税",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.deduction))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"应发工资",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.baseWage+t.row.otherWage-t.row.deduction))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"反馈信息",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.feedBackInfo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"申批信息",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.approvalInfo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return e.dialogVisibleFeedBackFun(t.row)}}},[e._v("反馈")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"反馈",visible:e.dialogVisibleFeedBack,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleFeedBack=t}}},[a("el-form",{attrs:{model:e.formUserFeedBack}},[a("el-form-item",{attrs:{label:"问题","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formUserFeedBack.desc,callback:function(t){e.$set(e.formUserFeedBack,"desc",t)},expression:"formUserFeedBack.desc"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisibleFeedBack=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dialogFeedBack(e.formUserFeedBack.desc)}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var d=a("VU/8")(n,o,!1,function(e){a("Pp1p")},null,null);t.default=d.exports},mClu:function(e,t,a){var l=a("kM2E");l(l.S+l.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})}});
//# sourceMappingURL=2.50cc5dbdc4639e507887.js.map