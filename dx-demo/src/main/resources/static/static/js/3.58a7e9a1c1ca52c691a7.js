webpackJsonp([3],{"1alW":function(e,t,n){var a=n("kM2E");a(a.S,"Number",{isInteger:n("AKgy")})},AKgy:function(e,t,n){var a=n("EqjI"),r=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&r(e)===e}},APCS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("RRo+"),r=n.n(a),o={components:{LoginHeader:n("cIVk").a},data:function(){return{pageSize:5,currentPage:1,totalNum:null,tableData:[],updateObj:null}},mounted:function(){this.findAll(this.pageSize,this.currentPage)},methods:{findAll:function(e,t){var n=this;n.$api.get("http://119.3.63.239:8080/user/findAll/"+e+"/"+t,null,function(e){e.data.data.forEach(function(e){e.edit=!1}),n.totalNum=parseInt(e.data.totalNum),n.tableData=e.data.data})},current_change:function(e){this.currentPage=e,this.findAll(this.pageSize,this.currentPage)},editData:function(e){e.edit=!0},deleteData:function(e,t){var n=this,a=e.id;n.$api.get("http://119.3.63.239:8080/user/delete/"+a,null,function(e){n.findAll(n.pageSize,n.currentPage)})},querySalaryDetail:function(e,t){this.$router.push({path:"./userSalary",query:{telnum:e.telnum,name:e.name,userId:e.id}})},confirmtelnumIsExist:function(e){this.updateObj=e,this.$api.get("http://119.3.63.239:8080/user/isAvaliable/"+e.telnum+"/"+e.id,null,this.confirmAdd,function(e){})},confirmAdd:function(e){var t=this,n=t.updateObj;r()(n.endWorkTime)||(n.endWorkTime=new Date(n.endWorkTime).getTime()),r()(n.startWorkTime)||(n.startWorkTime=new Date(n.startWorkTime).getTime()),!0===e.data.result?(t.$api.post("http://119.3.63.239:8080/user/updateUser",n,function(e){t.findAll(t.pageSize,t.currentPage)}),t.updateObj.edit=!1):t.$message("手机号已注册，请重新输入")}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-center"},[n("login-header"),e._v(" "),n("div",{staticStyle:{"font-size":"16px","font-weight":"bold",color:"#303133","text-align":"left",padding:"20px 0"}},[e._v("民工信息  (人数："+e._s(e.totalNum)+")")]),e._v(" "),n("el-table",{staticStyle:{width:"100%",padding:"0 20px"},attrs:{data:e.tableData,border:""}},[n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?n("el-input",{attrs:{placeholder:"姓名"},model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"scope.row.name"}}):n("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"telnum",label:"手机号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?n("el-input",{attrs:{placeholder:"手机号"},model:{value:t.row.telnum,callback:function(n){e.$set(t.row,"telnum",n)},expression:"scope.row.telnum"}}):n("span",[e._v(e._s(t.row.telnum))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"address",label:"家庭地址",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?n("el-input",{attrs:{placeholder:"住址"},model:{value:t.row.address,callback:function(n){e.$set(t.row,"address",n)},expression:"scope.row.address"}}):n("span",[e._v(e._s(t.row.address))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"otherMsg",label:"其他",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?n("el-input",{attrs:{placeholder:"身份证号"},model:{value:t.row.otherMsg,callback:function(n){e.$set(t.row,"otherMsg",n)},expression:"scope.row.otherMsg"}}):n("span",[e._v(e._s(t.row.otherMsg))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"startWorkTime",label:"正式工作时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?n("el-date-picker",{attrs:{type:"date",placeholder:"选择正式工作日期"},model:{value:t.row.startWorkTime,callback:function(n){e.$set(t.row,"startWorkTime",n)},expression:"scope.row.startWorkTime"}}):n("span",[e._v(e._s(e._f("dateformat")(t.row.startWorkTime,"YYYY-MM-DD")))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"endWorkTime",label:"工作结束时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?n("el-date-picker",{attrs:{type:"date",placeholder:"工作结束时间"},model:{value:t.row.endWorkTime,callback:function(n){e.$set(t.row,"endWorkTime",n)},expression:"scope.row.endWorkTime"}}):n("span",[e._v(e._s(e._f("dateformat")(t.row.endWorkTime,"YYYY-MM-DD")))])]}}])}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?n("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(n){return e.confirmtelnumIsExist(t.row)}}},[e._v("完成")]):n("div",[n("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(n){return e.editData(t.row)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.querySalaryDetail(t.row)}}},[e._v("查看工资")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(n){return e.deleteData(t.row,t.$index)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),n("el-pagination",{staticStyle:{"text-align":"left","padding-top":"20px"},attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,total:e.totalNum},on:{"current-change":e.current_change}})],1)},staticRenderFns:[]};var i=n("VU/8")(o,l,!1,function(e){n("uTbv")},null,null);t.default=i.exports},"RRo+":function(e,t,n){e.exports={default:n("c45H"),__esModule:!0}},c45H:function(e,t,n){n("1alW"),e.exports=n("FeBl").Number.isInteger},uTbv:function(e,t){}});
//# sourceMappingURL=3.58a7e9a1c1ca52c691a7.js.map